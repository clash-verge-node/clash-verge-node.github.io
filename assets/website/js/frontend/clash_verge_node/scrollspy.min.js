!function(b,a){b.fn.extend({scrollspy:function(e){var c={namespace:"scrollspy",activeClass:"active",animate:!1,offset:0,container:a};e=b.extend({},c,e);var g=function(j,f){return parseInt(j,10)+parseInt(f,10)},h=function(k){for(var p=[],j=0;j<k.length;j++){var q=k[j],t=b(q).attr("href"),l=b(t);if(l.length>0){var u=Math.floor(l.offset().top),m=u+Math.floor(l.outerHeight());p.push({element:l,hash:t,top:u,bottom:m})}}return p},d=function(j,k){for(var f=0;f<j.length;f++){var l=b(j[f]);if(l.attr("href")===k){return l}}},i=function(j){for(var f=0;f<j.length;f++){var k=b(j[f]);k.parent().removeClass(e.activeClass)}};return this.each(function(){for(var f=this,m=b(e.container),n=b(f).find("a"),j=0;j<n.length;j++){var k=n[j];b(k).on("click",function(l){var q=b(this).attr("href"),p=b(q);if(p.length>0){var t=g(p.offset().top,e.offset);e.animate?b("html, body").animate({scrollTop:t},1000):a.scrollTo(0,t),l.preventDefault()}})}var o=h(n);m.bind("scroll."+e.namespace,function(){for(var p,t={top:g(b(this).scrollTop(),Math.abs(e.offset)),left:b(this).scrollLeft()},s=0;s<o.length;s++){var l=o[s];if(t.top>=l.top&&t.top<l.bottom){var q=l.hash;if(p=d(n,q)){e.onChange&&e.onChange(l.element,b(f),t),i(n),p.parent().addClass(e.activeClass);break}}}!p&&e.onExit&&e.onExit(b(f),t)})})}})}(jQuery,window,document,void 0);